<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    <!-- BEGIN HEAD -->

    <head>
            {% include 'header.html' %}
    <style>
    .logo-custom{
        margin: 18px 20px 0 !important;
        height: 35px !important;
        width: 120px !important;
    }
    </style>
    
    </head>
    <!-- END HEAD -->

    <body class="page-container-bg-solid page-header-fixed page-sidebar-closed-hide-logo page-md">
        <!-- BEGIN HEADER -->
        <div class="page-header navbar navbar-fixed-top">
            <!-- BEGIN HEADER INNER -->
            <div class="page-header-inner ">
                <!-- BEGIN LOGO -->
                <div class="page-logo">
                    <a href="/dashboard">
                        <img src="/static/assets/layouts/layout4/img/logo-light-1.png" alt="logo" class="logo-default logo-custom" /> </a>
                    <div class="menu-toggler sidebar-toggler">
                    </div>
                </div>
                <!-- END LOGO -->
                <!-- BEGIN RESPONSIVE MENU TOGGLER -->
                <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse"> </a>
                <div class="page-top">
                    <div class="top-menu">
                        <ul class="nav navbar-nav pull-right">
                            <li class="dropdown dropdown-user dropdown-dark">
                                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                                    <span class="username username-hide-on-mobile"> Nick </span>
                                    <!-- DOC: Do not remove below empty space(&nbsp;) as its purposely used -->
                                    <img alt="" class="img-circle" src="/static/assets/layouts/layout4/img/avatar9.jpg" /> </a>
                                <ul class="dropdown-menu dropdown-menu-default">
                                    <li>
                                        <a href="#">
                                            <i class="icon-user"></i> My Profile </a>
                                    </li>
                                    <li class="divider"> </li>
                                    <li>
                                        <a href="/login/">
                                            <i class="icon-key"></i> Log Out </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!-- END TOP NAVIGATION MENU -->
                </div>
                <!-- END PAGE TOP -->
            </div>
            <!-- END HEADER INNER -->
        </div>
        <!-- END HEADER -->
        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            <!-- BEGIN SIDEBAR -->
          {% include 'sidebar.html' %}
            <!-- END SIDEBAR -->
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                    <!-- BEGIN CONTENT BODY -->
                    <div class="page-content">
                        <!-- BEGIN PAGE HEAD-->
                        <div class="page-head">
                            <!-- BEGIN PAGE TITLE -->
                        
                            <!-- END PAGE TITLE -->
                            <!-- BEGIN PAGE TOOLBAR -->
                          
                            <!-- END PAGE TOOLBAR -->
                        </div>
                        <div class="row" id="patient-row">
                            <div class="col-md-12">
                                <div class="portlet box red">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class="fa fa-globe"></i>Your Profile</div>
                                       
                                    </div>
                                    <div class="portlet-body form">
                                            <form role="form" class="form-horizontal" method="POST" action="/dashboard/" id="details-modal-form">
                                                    {% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="form-group form-md-line-input" id="user-name-1">
                                                            <label class="col-md-2 control-label" for="form_control_1" value="{{ name }}">Name</label>
                                                            <div class="col-md-10">
                                                                <input type="hidden" id="flag" name="flag" display="hidden" value="1"/>
                                                                <input type="hidden" id="user-email" name="user-email" display="hidden" value={{ email }} />
                                                                <input type="hidden" id="user-category" name="user-category" display="hidden" value="{{ category }}" />
                                                                <input type="text" class="form-control" id="user-name" name="user-name" placeholder="Enter your name" required> 
                                                                <!-- <span id="isbn_error" class="help-block help-block-error" style="display:none"></span> --> 
                                                                <div class="form-control-focus"> </div>
            
                                                            </div>
                                                        </div>
                                                        <div class="form-group form-md-line-input" id="user-age-1">
                                                            <label class="col-md-2 control-label" for="form_control_1">Age</label>
                                                            <div class="col-md-10">
                                                                <input type="text" class="form-control" id="user-age" name="user-age" placeholder="Enter your age" required>
                                                                <div class="form-control-focus"> </div>
                                                                <!--<span class="help-block">Some help goes here...</span> -->
                                                            </div>
                                                        </div>
                                                        <div class="form-group form-md-line-input" id="user-gender-1"> 
                                                                <label class="col-md-2 control-label" for="user-gender-1">Gender</label>
                                                                <div class="col-md-10">
                                                                    <select class="form-control" id="user-gender" name="user-gender">
                                                                        <option value="null" disabled="disabled" selected="">Select Category</option>
                                                                        <option value="Male">Male</option>
                                                                        <option value="Female">Female</option>
                                                                        <option value="Other">Other</option>
                                                                    </select>
                                                                    <div class="form-control-focus"> </div>
                                                                </div>
                                                        </div>
                                                        <div class="form-group form-md-line-input" id="user-address-1">
                                                            <label class="col-md-2 control-label" for="user-address-1">Address</label>
                                                            <div class="col-md-10">
                                                                <input type="text" class="form-control" id="user-address" name="user-address" placeholder="Enter your address" value="" required>
                                                                <div class="form-control-focus"> </div>
                                                            </div>
                                                        </div>
                                                    <div class="form-actions" style="background-color:#fff;text-align: right">
                                                        <div class="row">
                                                            <div class="col-md-offset-2 col-md-10">
                                                                <button type="button" id="edit-details-form" class="btn grey" style="width: 74.95px"> Edit </button>
                                                                <input type="submit" id="submit-details-modal-form-1" class="btn blue" >
                                                                
                                                            </div>
                                                        </div>
                                                    </div> 
                                                
                                            </div></form>
                                        </div>
                                </div>
                                <!-- END EXAMPLE TABLE PORTLET-->
                            </div>
                        </div>
                        <div class="row" id="doctor-row">
                                <div class="col-md-12">
                                    <div class="portlet box red">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-globe"></i>Your Profile</div>
                                           
                                        </div>
                                        <div class="portlet-body form">
                                                <form role="form" class="form-horizontal" method="POST" action="/dashboard/" id="details-modal-form">
                                                        {% csrf_token %}
                                                        <div class="form-body">
                                                            <div class="form-group form-md-line-input" id="user-name-1">
                                                                <label class="col-md-2 control-label" for="form_control_1">Name</label>
                                                                <div class="col-md-10">
                                                                    <input type="hidden" id="flag" name="flag" display="hidden" value="1"/>
                                                                    <input type="hidden" id="user-email" name="user-email" display="hidden" value={{ email }} />
                                                                    <input type="hidden" id="user-category" name="user-category" display="hidden" value="{{ category }}" />
                                                                    <input type="text" class="form-control" id="user-name" name="user-name" placeholder="Enter your name" required> 
                                                                    <!-- <span id="isbn_error" class="help-block help-block-error" style="display:none"></span> --> 
                                                                    <div class="form-control-focus"> </div>
                
                                                                </div>
                                                            </div>
                                                            <div class="form-group form-md-line-input" id="user-age-1">
                                                                <label class="col-md-2 control-label" for="form_control_1">Specialization</label>
                                                                <div class="col-md-10">
                                                                    <input type="text" class="form-control" id="user-spec" name="user-spec" placeholder="Enter your Specialization" required>
                                                                    <div class="form-control-focus"> </div>
                                                                    <!--<span class="help-block">Some help goes here...</span> -->
                                                                </div>
                                                            </div>
                                                            <div class="form-group form-md-line-input" id="user-age-1">
                                                                <label class="col-md-2 control-label" for="form_control_1">Department</label>
                                                                <div class="col-md-10">
                                                                    <input type="text" class="form-control" id="user-department" name="user-department" placeholder="Enter your Department" required>
                                                                    <div class="form-control-focus"> </div>
                                                                    <!--<span class="help-block">Some help goes here...</span> -->
                                                                </div>
                                                            </div>
        
        
        
        
                                                            <div class="form-inline" style="margin-left: 13%;">
                                                                <div class="form-group form-md-line-input" id="user-age-1">
                                                                    <label class="col-md-2 control-label" for="form_control_1">Fee</label>
                                                                    <div class="col-md-10">
                                                                        <input type="text" class="form-control" id="user-fee" name="user-fee" placeholder="Enter Fee" required>
                                                                        <div class="form-control-focus"> </div>
                                                                        <!--<span class="help-block">Some help goes here...</span> -->
                                                                    </div>
                                                                </div>
                                                                <div class="form-group form-md-line-input" id="user-age-1" style="float: right;">
                                                                    <label class="col-md-2 control-label" for="form_control_1">Slot</label>
                                                                    <div class="col-md-10">
                                                                        <input type="text" class="form-control" id="user-slot" name="user-slot" placeholder="Enter Slot" data-toggle="modal" data-target="#slot-modal">
                                                                        <div class="form-control-focus"> </div>
                                                                        <!--<span class="help-block">Some help goes here...</span> -->
                                                                    </div>
                                                                </div>
                                                                
                                                            </div>
        
                                                            
                                                            <div class="form-group form-md-line-input" id="user-address-1">
                                                                <label class="col-md-2 control-label" for="user-address-1">Address</label>
                                                                <div class="col-md-10">
                                                                    <input type="text" class="form-control" id="user-address" name="user-address" placeholder="Enter your address" value="" required>
                                                                    <div class="form-control-focus"> </div>
                                                                </div>
                                                            </div>
                                                            
                                                        <div class="form-actions" style="background-color:#fff;text-align: right">
                                                            <div class="row">
                                                                <div class="col-md-offset-2 col-md-10">
                                                                        <a href="/login/" class="btn default"style="width: 74.95px">Cancel
                                                                            </a>
                                                                    <input type="submit" id="submit-details-modal-form-2" class="btn blue" >
                                                                    
                                                                </div>
                                                            </div>
                                                        </div> 
                                                    
                                                </div></form>
                                            </div>
                                    </div>
                                    <!-- END EXAMPLE TABLE PORTLET-->
                                </div>
                            </div>

                        <!-- END PAGE BASE CONTENT -->
                    </div>
                    <!-- END CONTENT BODY -->
                </div>
            <!-- END CONTENT -->
            <!-- BEGIN QUICK SIDEBAR -->
            <a href="javascript:;" class="page-quick-sidebar-toggler">
                <i class="icon-login"></i>
            </a>
          
            <!-- END QUICK SIDEBAR -->         
            <div class="modal fade in" id="slot-modal" tabindex="-1" role="basic" aria-hidden="true" style="display: block; padding-right: 15px;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <h4 class="modal-title">Select weekly schedule</h4>
                        </div>
                        <div class="modal-body">
                                <div class="container" style="margin: 0px 5px 0px 5px; width:100%; height: 100%; display: flex; flex-direction: row; justify-content: center;">
                                            <div id="target">
                                            </div>
                                            
                                        </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" onclick="displaySel()" class="btn green" data-toggle="modal" data-target="#slot-modal">Save</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

        </div>
        <!-- END CONTAINER -->
        <!-- BEGIN FOOTER -->
        <!-- END FOOTER -->
        <!-- BEGIN QUICK NAV -->
      
      
        <!-- END QUICK NAV -->
        {% include 'footer.html' %}
    </body> 

    <script>
    $("#doctor-row").hide();
    $("#patient-row").hide();
    $("#slot-modal").hide();
    $('input[type=text]').prop('readonly',true);
    $('#user-gender').prop('disabled', true);

    function doCheck(){
        var allFilled=true;
        $('input[type=text]').each(function(){
            if($(this).val() == ''){
                allFilled=false;
                }
        });
        
        $('input[type=submit]').prop('disabled', allFilled);
        if (allFilled){
            console.log("s");
         //   $('#submit-details-modal-form-1').removeAttr('disabled');
           // $('#submit-details-modal-form-2').removeAttr('disabled');
           $('input[type=submit]').removeAttr('disabled');
           $('#submit-details-modal-form-1').removeAttr('disabled');
        } 
    }
    
    $(document).ready(function(){
        var user_category='{{   category }}';
        var temp = '{{ details }}'.split(',');
        var slot='{{ slot }}';
    
        if(parseInt(user_category)==0){
            $("#patient-row").show();
            if ($.isArray(temp)){
                console.log(temp,slot);
                $("#patient-row #user-name").val(temp[0]);
                $("#patient-row #user-age").val(temp[1]);
                $("#patient-row #user-gender").val(temp[2]);
                $("#patient-row #user-address").val(temp[3]);
            }       
        }
        else if(parseInt(user_category)==1){
            $("#doctor-row").show();
            if ($.isArray(temp)){
                console.log(temp,slot);
                $("#doctor-row #user-name").val(temp[0]);
                $("#doctor-row #user-spec").val(temp[2]);
                $("#doctor-row #user-department").val(temp[3]);
                $("#doctor-row #user-address").val(temp[1]);
                $("#doctor-row #user-fee").val(temp[4]);
            }       
        }
         
        doCheck();
        $('.form-group').keyup(doCheck);

        $("#submit-details-modal-form").click(function(){
            flag=0;
            $("#p-large").hide();

        });
   

            $('#target').weekly_schedule    ({
hours:"09:00AM-05:00PM"});

            $('.schedule').on('selectionmade', function() {
	            var av= $('#mySchedule').weekly_schedule("getSelectedHour");
                
            }).on('selectionremoved', function() {
                var av= $('#mySchedule').weekly_schedule("getSelectedHour");
                $("#user-slot").val(av);
            });

    function displaySel()
            {
                var av= $('#mySchedule').weekly_schedule("getSelectedHour");
                console.log(av);            
                var fields = JSON.stringify(av);
                $("#user-slot").val(fields);
                console.log(fields);
            }

        $("#edit-details-form").click(function(){
            $('input[type=text]').prop('readonly',false);
            //  $('input[type=text]').removeAttr("readonly");
            $('#user-gender').prop('disabled', false);
        });
    
});
    
    </script>

</html>